  ---
  layout: default
  title: "Available Properties"
  description: "Browse our selection of available rental properties. Use
  filters to find the perfect home that meets your needs and budget."
  ---

  <div class="hero-gradient text-white py-16">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center loading">
        <h1 class="text-4xl md:text-5xl font-bold font-serif mb-4 
  text-shadow">
          Available Properties
        </h1>
        <p class="text-xl text-blue-100">
          Find your perfect rental home from our carefully managed
  properties
        </p>
      </div>
    </div>
  </div>

  <div class="py-8 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="max-w-6xl mx-auto">
        <!-- Filters -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
          <h3 class="text-lg font-bold text-gray-900 mb-4">Filter
  Properties</h3>
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div>
              <label for="city-filter" class="block text-sm font-medium 
  text-gray-700 mb-2">City</label>
              <select id="city-filter" class="w-full px-3 py-2 border 
  border-gray-300 rounded-md focus:outline-none focus:ring-2 
  focus:ring-primary focus:border-transparent">
                <option value="">All Cities</option>
              </select>
            </div>

            <div>
              <label for="bedrooms-filter" class="block text-sm 
  font-medium text-gray-700 mb-2">Bedrooms</label>
              <select id="bedrooms-filter" class="w-full px-3 py-2 border 
  border-gray-300 rounded-md focus:outline-none focus:ring-2 
  focus:ring-primary focus:border-transparent">
                <option value="">Any</option>
                <option value="1">1 Bedroom</option>
                <option value="2">2 Bedrooms</option>
                <option value="3">3 Bedrooms</option>
                <option value="4">4+ Bedrooms</option>
              </select>
            </div>

            <div>
              <label for="max-rent" class="block text-sm font-medium 
  text-gray-700 mb-2">Max Rent</label>
              <select id="max-rent" class="w-full px-3 py-2 border 
  border-gray-300 rounded-md focus:outline-none focus:ring-2 
  focus:ring-primary focus:border-transparent">
                <option value="">No Limit</option>
                <option value="2000">$2,000</option>
                <option value="3000">$3,000</option>
                <option value="4000">$4,000</option>
                <option value="5000">$5,000</option>
                <option value="6000">$6,000</option>
              </select>
            </div>

            <div class="flex items-end">
              <button 
                id="clear-filters" 
                class="w-full bg-gray-500 text-white px-4 py-2 rounded-md 
  hover:bg-gray-600 transition-colors focus-ring"
              >
                Clear Filters
              </button>
            </div>
          </div>
        </div>

        <!-- Results Count -->
        <div class="mb-6">
          <p id="results-count" class="text-gray-600">
            Showing <span id="visible-count">0</span> of <span 
  id="total-count">0</span> properties
          </p>
        </div>

        <!-- Property Grid -->
        <div id="properties-grid" class="grid grid-cols-1 md:grid-cols-2 
  lg:grid-cols-3 gap-8">
          {% for property in site.data.properties %}
          <div class="property-card bg-white rounded-lg shadow-md 
  overflow-hidden hover:shadow-lg transition-shadow loading" 
               data-city="{{ property.city | downcase }}" 
               data-bedrooms="{{ property.bedrooms }}" 
               data-rent="{{ property.rent }}"
               data-available="{{ property.available }}">

            <div class="relative">
              <img 
                src="{{ property.image }}" 
                alt="{{ property.title }}"
                class="w-full h-48 object-cover"
                loading="lazy"
              >
              {% unless property.available %}
              <div class="absolute top-4 left-4 bg-red-500 text-white px-3
   py-1 rounded-full text-sm font-medium">
                Rented
              </div>
              {% endunless %}
              {% if property.featured and property.available %}
              <div class="absolute top-4 left-4 bg-accent text-gray-900 
  px-3 py-1 rounded-full text-sm font-medium">
                Featured
              </div>
              {% endif %}
            </div>

            <div class="p-6">
              <h3 class="text-xl font-bold text-gray-900 mb-2">{{
  property.title }}</h3>
              <p class="text-gray-600 mb-3 flex items-center">
                <i class="fas fa-map-marker-alt text-primary mr-2"></i>
                {{ property.address }}
              </p>

              <div class="flex justify-between items-center mb-4">
                <div class="text-2xl font-bold text-primary">
                  ${{ property.rent | number_with_delimiter }}/month
                </div>
              </div>

              <div class="flex items-center space-x-4 text-sm 
  text-gray-600 mb-4">
                <span class="flex items-center">
                  <i class="fas fa-bed text-primary mr-1"></i>
                  {{ property.bedrooms }} bed{% if property.bedrooms != 1
  %}s{% endif %}
                </span>
                <span class="flex items-center">
                  <i class="fas fa-bath text-primary mr-1"></i>
                  {{ property.bathrooms }} bath{% if property.bathrooms !=
   1 %}s{% endif %}
                </span>
                {% if property.sqft %}
                <span class="flex items-center">
                  <i class="fas fa-ruler-combined text-primary mr-1"></i>
                  {{ property.sqft | number_with_delimiter }} sqft
                </span>
                {% endif %}
              </div>

              <div class="flex space-x-3">
                {% if property.available %}
                <a 
                  href="{{ '/properties/' | append: property.slug | 
  append: '/' | relative_url }}" 
                  class="flex-1 bg-primary text-white text-center py-2 
  px-4 rounded-md hover:bg-blue-700 transition-colors font-medium 
  focus-ring"
                >
                  View Details
                </a>
                <a 
                  href="{{ '/contact/' | relative_url }}?property={{ 
  property.title | url_encode }}" 
                  class="flex-1 border border-primary text-primary 
  text-center py-2 px-4 rounded-md hover:bg-primary hover:text-white 
  transition-colors font-medium focus-ring"
                >
                  Contact
                </a>
                {% else %}
                <button 
                  disabled 
                  class="w-full bg-gray-400 text-white text-center py-2 
  px-4 rounded-md cursor-not-allowed font-medium"
                >
                  No Longer Available
                </button>
                {% endif %}
              </div>
            </div>
          </div>
          {% endfor %}
        </div>

        <!-- No Results Message -->
        <div id="no-results" class="hidden text-center py-12">
          <div class="text-gray-400 text-6xl mb-4">
            <i class="fas fa-search"></i>
          </div>
          <h3 class="text-2xl font-bold text-gray-700 mb-2">No Properties
  Found</h3>
          <p class="text-gray-600 mb-6">
            Try adjusting your filters to see more properties.
          </p>
          <button 
            id="no-results-clear" 
            class="bg-primary text-white px-6 py-3 rounded-md 
  hover:bg-blue-700 transition-colors font-medium focus-ring"
          >
            Clear All Filters
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Call to Action -->
  <div class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center loading">
        <h2 class="text-3xl font-bold font-serif text-gray-900 mb-4">
          Don't See What You're Looking For?
        </h2>
        <p class="text-xl text-gray-600 mb-8">
          We're constantly adding new properties to our portfolio. Contact
   us to learn about upcoming availability or to discuss your specific
  needs.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="{{ '/contact/' | relative_url }}" class="bg-primary 
  text-white px-8 py-3 rounded-full hover:bg-blue-700 transition-colors 
  font-semibold focus-ring inline-flex items-center justify-center">
            <i class="fas fa-envelope mr-2"></i>
            Contact Us
          </a>
          <a href="tel:{{ site.contact.phone }}" class="border-2 
  border-primary text-primary px-8 py-3 rounded-full hover:bg-primary 
  hover:text-white transition-colors font-semibold focus-ring inline-flex 
  items-center justify-center">
            <i class="fas fa-phone mr-2"></i>
            {{ site.contact.phone }}
          </a>
        </div>
      </div>
    </div>
  </div>

  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const properties = document.querySelectorAll('.property-card');
    const cityFilter = document.getElementById('city-filter');
    const bedroomsFilter = document.getElementById('bedrooms-filter');
    const maxRentFilter = document.getElementById('max-rent');
    const clearFiltersBtn = document.getElementById('clear-filters');
    const noResultsDiv = document.getElementById('no-results');
    const propertiesGrid = document.getElementById('properties-grid');
    const visibleCountSpan = document.getElementById('visible-count');
    const totalCountSpan = document.getElementById('total-count');

    // Populate city filter options
    const cities = new Set();
    properties.forEach(property => {
      const city = property.dataset.city;
      if (city) cities.add(city);
    });

    Array.from(cities).sort().forEach(city => {
      const option = document.createElement('option');
      option.value = city;
      option.textContent = city.charAt(0).toUpperCase() + city.slice(1);
      cityFilter.appendChild(option);
    });

    // Set initial counts
    const availableProperties = Array.from(properties).filter(p =>
  p.dataset.available === 'true');
    totalCountSpan.textContent = availableProperties.length;

    function filterProperties() {
      const cityValue = cityFilter.value.toLowerCase();
      const bedroomsValue = bedroomsFilter.value;
      const maxRentValue = parseInt(maxRentFilter.value) || Infinity;

      let visibleCount = 0;

      properties.forEach(property => {
        const propertyCity = property.dataset.city.toLowerCase();
        const propertyBedrooms = parseInt(property.dataset.bedrooms);
        const propertyRent = parseInt(property.dataset.rent);
        const isAvailable = property.dataset.available === 'true';

        let shouldShow = isAvailable;

        if (shouldShow && cityValue && propertyCity !== cityValue) {
          shouldShow = false;
        }

        if (shouldShow && bedroomsValue) {
          if (bedroomsValue === '4' && propertyBedrooms < 4) {
            shouldShow = false;
          } else if (bedroomsValue !== '4' && propertyBedrooms !==
  parseInt(bedroomsValue)) {
            shouldShow = false;
          }
        }

        if (shouldShow && propertyRent > maxRentValue) {
          shouldShow = false;
        }

        if (shouldShow) {
          property.style.display = 'block';
          visibleCount++;
        } else {
          property.style.display = 'none';
        }
      });

      visibleCountSpan.textContent = visibleCount;

      if (visibleCount === 0) {
        noResultsDiv.classList.remove('hidden');
        propertiesGrid.style.display = 'none';
      } else {
        noResultsDiv.classList.add('hidden');
        propertiesGrid.style.display = 'grid';
      }
    }

    function clearFilters() {
      cityFilter.value = '';
      bedroomsFilter.value = '';
      maxRentFilter.value = '';
      filterProperties();
    }

    // Event listeners
    cityFilter.addEventListener('change', filterProperties);
    bedroomsFilter.addEventListener('change', filterProperties);
    maxRentFilter.addEventListener('change', filterProperties);
    clearFiltersBtn.addEventListener('click', clearFilters);
    document.getElementById('no-results-clear').addEventListener('click',
  clearFilters);

    // Initial filter
    filterProperties();

    // Check for property parameter in URL
    const urlParams = new URLSearchParams(window.location.search);
    const propertyParam = urlParams.get('property');
    if (propertyParam) {
      // Scroll to property if found
      properties.forEach(property => {
        const title = property.querySelector('h3').textContent;
        if (title.toLowerCase().includes(propertyParam.toLowerCase())) {
          property.scrollIntoView({ behavior: 'smooth', block: 'center'
  });
          property.style.border = '2px solid #3b82f6';
          setTimeout(() => {
            property.style.border = '';
          }, 3000);
        }
      });
    }
  });
  </script>
